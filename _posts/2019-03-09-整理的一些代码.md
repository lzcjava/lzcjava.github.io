---
title: 懒
date: 2019-03-09 12:31:26
tags:
---

> Vue 返回顶部组件
```js
<template>
  <div class="back-to-top" v-if="showBacktoTop" @click="backToTop">
    <!-- 放图标 -->
    <i class="backicon iconfont icon-ios-arrow-up"></i> 
  </div>
</template>
<script type="text/babel">
  export default {
    data() {
      return {
        showBacktoTop: false
      }
    },
    computed: {

    },
    mounted () {
      window.addEventListener('scroll', this.scrollToTop)
    },
    methods: {
      /**
       * 监测时候下拉到指定像素
       */
      scrollToTop() { 
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
        if (scrollTop > 1500) {
          this.showBacktoTop = true;
        } else {
          this.showBacktoTop = false;
        }
      },
      /**
       * 点击返回顶部
       */
      backToTop () {
        var currentScroll = document.documentElement.scrollTop || document.body.scrollTop;
        if (currentScroll > 0) {
          window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;
          window.requestAnimationFrame(this.backToTop);
          window.scrollTo(0, currentScroll - (currentScroll / 5));
        }
      },
    },
  }
</script>

<style scope>
.back-to-top {
  z-index: 9990;
  position: fixed;
  right: 10px;
  bottom: 80px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  animation-duration: 0.5s;
  -webkit-animation: mescrollFadeIn .5s linear forwards;
  animation: mescrollFadeIn .5s linear forwards;
  background-color: rgba(0,0,0,.2);
}
.back-to-top i {
  font-size: 25px;
  color: #fff;
  margin-left: 8px;
  line-height: 1.5;
}
</style>

```

> Vue 返回顶部组件